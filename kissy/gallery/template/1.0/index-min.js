KISSY.add("gallery/template/1.0/index",function(d){var f={},q={"#":"start","@":"start","/":"end"},a="KS_TEMPL_STAT_PARAM",r=new RegExp(a,"g"),t="KS_TEMPL",l="KS_DATA_",j="as",c='");',k=t+'.push("',g="KISSY.Template: Syntax Error. ",m="KISSY.Template: Render Error. ",o="var "+t+"=[],"+a+"=false;with(",u="||{}){try{"+t+'.push("',b='");}catch(e){'+t+'=["'+m+'" + e.message]}};return '+t+'.join("");',i=function(v){return v.replace(/\\"/g,'"')},p=function(v){return v.replace(/"/g,'\\"')},n=d.trim,h=function(x){var w,v;return p(n(x).replace(/[\r\t\n]/g," ").replace(/\\/g,"\\\\")).replace(/\{\{([#/@]?)(?!\}\})([^}]*)\}\}/g,function(D,E,y){w="";y=i(n(y));if(E){v=y.indexOf(" ");y=v===-1?[y,""]:[y.substring(0,v),y.substring(v)];var z=y[0],C,B=n(y[1]),A=e[z];if(A&&q[E]){C=A[q[E]];w=String(d.isFunction(C)?C.apply(this,B.split(/\s+/)):C.replace(r,B))}}else{w=t+".push(typeof ("+y+') ==="undefined"?"":'+y+");"}return c+w+k})},e={"if":{start:"if(typeof ("+a+') !=="undefined" && '+a+"){",end:"}"},"else":{start:"}else{"},elseif:{start:"}else if("+a+"){"},each:{start:function(B,x,z,y){var w="_ks_value",A="_ks_index";if(x===j&&z){w=z||w;A=y||A}return"KISSY.each("+B+", function("+w+", "+A+"){"},end:"});"},"!":{start:"/*"+a+"*/"}};function s(w){if(!(f[w])){var x=d.guid(l),y,A,v=[o,x,u,A=h(w),b];try{y=new Function(x,v.join(""))}catch(z){v[3]=c+k+g+","+z.message+c+k;y=new Function(x,v.join(""))}f[w]={name:x,o:A,parser:v.join(""),render:y}}return f[w]}d.mix(s,{log:function(v){if(v in f){d.log(f[v].parser,"info")}else{s(v);this.log(v)}},addStatement:function(v,w){if(typeof v=="string"){e[v]=w}else{d.mix(e,v)}}});d.Template=s;return s});
